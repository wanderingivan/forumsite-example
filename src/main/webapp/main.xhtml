<html xmlns="http://www.w3.org/1999/xhtml"   
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:a="http://java.sun.com/jsf/passtrough"       	          
   xmlns:ui="http://java.sun.com/jsf/facelets"
   
   >
   <h:body> 
      <ui:composition template="/WEB-INF/templates/default.xhtml">
        <ui:param name="title" value="main"/>
      	<ui:define name="content">
      	  <ui:insert name="action-bar">
      	    <ui:include src="/WEB-INF/templates/actionbar.xhtml"/>
      	  </ui:insert>
      	  <div class="row">
      	    <div class="col-md-10 col-sm-12">
      	      <ui:repeat var="category" value="#{categories}">
      	        <div class="panel panel-default forum-panel">
      	          <div class="panel-heading">
      	            <h:link value="#{category}" outcome="category" title="Go to #{category}">
      	              <f:param name="category" value="#{category}"/>
      	            </h:link>
      	            <i class="fa fa-minus pull-right"></i>
      	          </div>
           	      <div class="panel-body">
      	            <ui:repeat var="topic" value="#{index.threads}">
      	              <h:panelGroup rendered="#{topic.category == category}">
				        <ui:insert name="threadlist">
				          <ui:include src="/WEB-INF/templates/threadlist.xhtml"/>
				        </ui:insert>
				      </h:panelGroup>
				    </ui:repeat>
				  </div>
      	        </div>
      	      </ui:repeat>
      	    </div>
      	    <div class="col-md-2 col-sm-12">
      	     <ui:insert name="sidebar">
      	       <ui:include src="/WEB-INF/templates/sidebar.xhtml"/>
      	     </ui:insert>
      	    </div>
      	  </div>
          <ui:insert name="action-bar">
      	    <ui:include src="/WEB-INF/templates/actionbar.xhtml"/>
      	  </ui:insert>
          <script>
   	        $(document).ready(function(){
   	        	$(".fa.fa-minus.pull-right").click(function(){
	   	     		$(this).toggleClass('fa-minus');
   		    		$(this).toggleClass('fa-plus');
   	    			$(this).closest('.panel').find('.panel-body')
   	                                         .slideToggle(700);
   	    		});	
   			});
   		  </script>
      	</ui:define>
      </ui:composition>
   </h:body>

</html>